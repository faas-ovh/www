<!-- POST method -->
<form>
    <input type="hidden" name="method" value="POST">
    <p>
        <label for="server">server</label>
        <select name="server" id="server">
            <!--        <option value="1">1.faas.ovh debian</option>-->
            <option value="2">1.faas.ovh ubuntu 18</option>
            <option value="3">2.faas.ovh windows server</option>
        </select>
    </p>

    <p>
        <label for="environment">environment</label>
        <select name="environment" id="environment">
            <option value="1">python v3.8</option>
            <option value="1">python + FastAPI</option>
            <option value="2">nodejs</option>
            <option value="2">nodejs + Vue</option>
            <option value="3">php5</option>
            <option value="3">php7.1</option>
            <option value="3">php7.4</option>
            <option value="3">MySQL</option>
            <option value="3">MariaDB</option>
            <option value="3">PostgresSQL</option>
        </select>
    </p>


    <article autofocus>

        <p>
<!--            The <code>sublime</code> keymap defines many Sublime Text-specific-->
<!--            bindings for CodeMirror. </p>-->
<!--        <p>-->
            Write below <code>Code</code> which should be executed by selected <code>Server</code> and <code>Environment</code>
        </p>

    </article>

<!--        <label for="code">code</label>-->
        <textarea name="code" id="code" class="code" style="display: none" autofocus></textarea>

    <input type="submit" name="submit" class="submit" value="Run">

</form>


<script>
    // $(document).ready(function () {

        console.log("ready!");
        //
        // jloadsUrl({
        //     "head": [
        //         "js/codemirror.js"
        //     ]
        // });

        // $('.CodeMirror textarea').trigger("click");


        var editor = CodeMirror(document.body.getElementsByTagName("article")[0], {
            value: '',
            lineNumbers: true,
            mode: "javascript",
            keyMap: "sublime",
            autoCloseBrackets: true,
            matchBrackets: true,
            showCursorWhenSelecting: true,
            theme: "monokai",
            tabSize: 2
        });

        $('.submit').on('click', function (){
            $('textarea.code').val( editor.getValue() );
            $('.CodeMirror textarea').focus();
        })

        $(".CodeMirror").trigger("click");
        $(".CodeMirror textarea").focus();

    // });
</script>
